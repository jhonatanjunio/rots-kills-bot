# ğŸ® ROTS War Bot

## ğŸ“‹ Sobre
Bot do Discord desenvolvido para monitorar e gerenciar estatÃ­sticas de jogadores do Saiyans Return (ROTS). O bot rastreia mortes, mantÃ©m rankings e fornece informaÃ§Ãµes detalhadas sobre o desempenho dos jogadores.

## âš¡ Principais Funcionalidades

### 1. Monitoramento de Jogadores
- Rastreamento automÃ¡tico de mortes
- Sistema de aliados e inimigos
- AtualizaÃ§Ã£o em tempo real

### 2. Comandos Discord
- `/addplayer` - Adiciona um jogador ao monitoramento
- `/removeplayer` - Remove um jogador do monitoramento
- `/playerstats` - Exibe estatÃ­sticas detalhadas do jogador
- `/ranking` - Mostra ranking de KDA (Kills/Deaths/Assists)

### 3. Sistema de EstatÃ­sticas
- Contagem de mortes
- Rastreamento de KDA
- HistÃ³rico de combates
- AnÃ¡lise de perÃ­odos (24h, 7d, 30d, total)

### 4. NotificaÃ§Ãµes
- Alertas de morte em tempo real
- Detalhes do combate
- InformaÃ§Ãµes do assassino

## ğŸ”§ Tecnologias Utilizadas

- TypeScript
- Discord.js
- Puppeteer
- Jest (Testes)
- Node.js
- Moment.js

## ğŸ’» Arquitetura

O projeto estÃ¡ organizado em vÃ¡rios mÃ³dulos principais:

1. **ServiÃ§os Core**
   - BrowserService: InteraÃ§Ã£o com a API do jogo
   - DeathMonitor: Sistema de monitoramento
   - Database: Gerenciamento de dados
   - GameAPI: Interface com a API do jogo

2. **Comandos Discord**
   - Sistema modular de comandos
   - Gerenciamento de interaÃ§Ãµes
   - FormataÃ§Ã£o rica de mensagens

3. **Sistema de Testes**
   - Testes de integraÃ§Ã£o
   - Mocks para serviÃ§os externos
   - Ambiente de teste isolado

## ğŸš€ Destaques TÃ©cnicos

1. **Sistema de Cache Inteligente**
- ImplementaÃ§Ã£o de cache em memÃ³ria para reduzir requisiÃ§Ãµes Ã  API
- Ãndice otimizado para logs de morte usando Set para evitar duplicatas
- Sistema de hash para identificaÃ§Ã£o Ãºnica de eventos
```typescript
private static createDeathLogHash(deathLog: DeathLogEntry): string {
return `${deathLog.playerName}-${deathLog.killed_by}-${deathLog.mostdamage_by}-${deathLog.timestamp}-${deathLog.level}`;
}
```

2. **Monitoramento em Tempo Real**
- Sistema robusto de monitoramento usando Puppeteer
- Processamento assÃ­ncrono de eventos de morte
- NotificaÃ§Ãµes instantÃ¢neas via Discord Embeds
```typescript
private async processNewDeaths(player: any, deaths: any[]) {
  const deathAlert = new EmbedBuilder()
    .setColor('#FF0000')
    .setTitle('âš ï¸ ALERTA DE MORTE âš ï¸')
    // ... configuraÃ§Ã£o do embed
    .setFooter({ text: 'Mantenha-se alerta! Proteja seus aliados!' });
}
```

3. **Interface Rica com Discord**
- Comandos Slash integrados
- Embeds personalizados para melhor visualizaÃ§Ã£o
- Sistema de rankings com perÃ­odos customizÃ¡veis
```typescript
export async function showRanking(interaction: ChatInputCommandInteraction) {
  const period = interaction.options.getString('period');
  const options = parseRankingPeriod(period);
  // ... lÃ³gica de ranking
}
```

4. **Sistema de Testes Abrangente**
- Mocks para serviÃ§os externos
- Testes de integraÃ§Ã£o automatizados
- Ambiente de teste isolado
```typescript
describe('DeathMonitor', () => {
  let monitor: DeathMonitor;
  let mockClient: Client;
  // ... configuraÃ§Ã£o de testes
});
```

5. **Arquitetura Modular**
- SeparaÃ§Ã£o clara de responsabilidades
- ServiÃ§os independentes e bem definidos
- Sistema de tipos forte com TypeScript

Cada um destes destaques tÃ©cnicos foi implementado pensando em performance, manutenibilidade e confiabilidade do sistema.

## ğŸ” SeguranÃ§a

- Sistema de rate limiting
- ProteÃ§Ã£o contra duplicaÃ§Ã£o de dados
- ValidaÃ§Ã£o de entradas
- Gerenciamento seguro de tokens

## ğŸ“Š Funcionalidades de Monitoramento

- Rastreamento de mortes em tempo real
- AnÃ¡lise de estatÃ­sticas
- Sistema de ranking
- HistÃ³rico detalhado de combates

## ğŸ› ï¸ Recursos TÃ©cnicos

- Typescript strict mode
- Arquitetura modular
- Sistema de logging
- Tratamento de erros robusto
- Testes automatizados


Este bot Ã© uma ferramenta completa para gerenciamento de guerra no ROTS, oferecendo monitoramento em tempo real, estatÃ­sticas detalhadas e uma interface amigÃ¡vel atravÃ©s do Discord. A arquitetura Ã© robusta e bem organizada, com foco em performance e confiabilidade.